"use strict";(self.webpackChunkcow_docs=self.webpackChunkcow_docs||[]).push([[8226],{28484:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var i=t(85893),n=t(11151);const r={description:"This document provides some quick start information for integrating to CoW Protocol. You will find an introduction to the protocol, its tools, resources, and documentation, along with some convenient"},s="Build on top of CoW Protocol",a={id:"tutorials/build-on-top-of-cow-protocol",title:"Build on top of CoW Protocol",description:"This document provides some quick start information for integrating to CoW Protocol. You will find an introduction to the protocol, its tools, resources, and documentation, along with some convenient",source:"@site/docs/tutorials/build-on-top-of-cow-protocol.md",sourceDirName:"tutorials",slug:"/tutorials/build-on-top-of-cow-protocol",permalink:"/docs-v2/docs/tutorials/build-on-top-of-cow-protocol",draft:!1,unlisted:!1,editUrl:"https://github.com/cowprotocol/docs/tree/main/docs/tutorials/build-on-top-of-cow-protocol.md",tags:[],version:"current",frontMatter:{description:"This document provides some quick start information for integrating to CoW Protocol. You will find an introduction to the protocol, its tools, resources, and documentation, along with some convenient"}},c={},l=[{value:"\ud83c\udfc1 Get started",id:"-get-started",level:2},{value:"What is CoW Swap &amp; CoW Protocol",id:"what-is-cow-swap--cow-protocol",level:3},{value:"Get familiar with CoW Swap",id:"get-familiar-with-cow-swap",level:3},{value:"Some basics: Place an order",id:"some-basics-place-an-order",level:4},{value:"Check order status",id:"check-order-status",level:4},{value:"CoW Explorer",id:"cow-explorer",level:3},{value:"Signing orders",id:"signing-orders",level:3},{value:"\ud83d\udca1Resources",id:"resources",level:2},{value:"Dev Documentation",id:"dev-documentation",level:3},{value:"API",id:"api",level:3},{value:"SDK",id:"sdk",level:3},{value:"The graph",id:"the-graph",level:3},{value:"Examples of simple integrations",id:"examples-of-simple-integrations",level:2},{value:"\ud83d\udc69\u200d\ud83c\udf3e Bonus: Join the team!",id:"-bonus-join-the-team",level:2}];function d(e){const o=Object.assign({h1:"h1",h2:"h2",h3:"h3",p:"p",ul:"ul",li:"li",a:"a",h4:"h4",ol:"ol"},(0,n.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h1,{id:"build-on-top-of-cow-protocol",children:"Build on top of CoW Protocol"}),"\n",(0,i.jsx)(o.h2,{id:"-get-started",children:"\ud83c\udfc1 Get started"}),"\n",(0,i.jsx)(o.h3,{id:"what-is-cow-swap--cow-protocol",children:"What is CoW Swap & CoW Protocol"}),"\n",(0,i.jsx)(o.p,{children:"CoW Swap is a Decentralized Application (DApp) and Protocol allowing users to exchange digital assets directly (peer-to-peer) and via existing trading decentralized exchanges."}),"\n",(0,i.jsx)(o.p,{children:"Its novel design maximizes trade efficiency and provides a competitive way to ensure best prices."}),"\n",(0,i.jsx)(o.p,{children:"One of the core ideas is executing trades in batches, where users will trade directly using what is known as \u201cCoincidence of Wants\u201d (hence the name CoW). In the context of blockchains, batch auctions are a superior mechanism compared to continuous time trading, as they already execute transactions in discrete \u201cblocks\u201d every few seconds."}),"\n",(0,i.jsx)(o.p,{children:"In consequence CoW Swap protects users from front-running and other value extraction (known as MEV). The mechanism also leverages the concept of \u201cring trades\u201d to boost liquidity in highly fragmented and long-tail token markets."}),"\n",(0,i.jsx)(o.p,{children:"Additionally, CoW Swap allows for an improved user experience by facilitating gasless trades, not paying for failed transactions and adaptive routing in case of volatility."}),"\n",(0,i.jsx)(o.h3,{id:"get-familiar-with-cow-swap",children:"Get familiar with CoW Swap"}),"\n",(0,i.jsx)(o.p,{children:"CoW Swap uses CoW protocol. One easy way to get familiar with the protocol is by doing one trade in CowSwap:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.a,{href:"https://swap.cow.fi/#/1/swap/WETH?utm_source=docs.cow.fi&utm_medium=web&utm_content=build-on-top-cow-page",children:"https://swap.cow.fi"})}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"You can use it in the G\xf6rli test net if you want. Otherwise, it is available in Mainnet and Gnosis Chain."}),"\n",(0,i.jsxs)(o.p,{children:["\ud83d\udca1 If you need G\xf6rli Ether, you can use this ",(0,i.jsx)(o.a,{href:"https://goerli-faucet.pk910.de/",children:"PoW-based Faucet"}),". You can also ask us!"]}),"\n",(0,i.jsx)(o.h4,{id:"some-basics-place-an-order",children:"Some basics: Place an order"}),"\n",(0,i.jsx)(o.p,{children:"Trading in CoW Swap is done by signing off-chain transactions using your web3 wallet and posting them to an API."}),"\n",(0,i.jsx)(o.p,{children:"You will need to:"}),"\n",(0,i.jsxs)(o.ol,{start:"4",children:["\n",(0,i.jsxs)(o.li,{children:["Enable token for trading: (only one time) Similarly to other protocols like Uniswap, you need to set an allowance. After this, you can trade. Learn more ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-submit-orders-via-the-api/1.-set-allowance-for-the-sell-token",children:"here"})]}),"\n",(0,i.jsxs)(o.li,{children:["Get a price/fee quote from the API: Fees are only paid if the trade is executed (you don\u2019t pay for failed transactions). So this fee covers the settlement of the transaction on-chain. Learn more ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-submit-orders-via-the-api/2.-query-the-fee-endpoint",children:"here"})]}),"\n",(0,i.jsxs)(o.li,{children:["Sign the order using your wallet: Orders are just your signed intent to trade at a desired price or better before some expiration time. You sign orders with your web3 wallet. Learn more ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-submit-orders-via-the-api/4.-signing-the-order",children:"here"})]}),"\n",(0,i.jsxs)(o.li,{children:["Post the signed order to the API: Signed orders are posted to the API, so the order can be executed. Read more ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-submit-orders-via-the-api/5.-placing-the-order",children:"here"})]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["\ud83d\udca1 TIP: One easy way to understand the steps above is to see the ",(0,i.jsx)(o.a,{href:"https://vigilant-heisenberg-dba3c1.netlify.app/",children:"DEMO: SDK Examples"})," or check the ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/cow-sdk",children:"SDK documents"})]}),"\n",(0,i.jsx)(o.h4,{id:"check-order-status",children:"Check order status"}),"\n",(0,i.jsx)(o.p,{children:"Orders are identified by an unique identifier (UID)."}),"\n",(0,i.jsx)(o.p,{children:"This UID is a deterministic hash derived from the order information. It is returned by the API when you post a new order (it can also be calculated locally deriving it from the order data)."}),"\n",(0,i.jsx)(o.p,{children:"This UID would allow you to get information about the status of the order. You can do this in two different ways:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["API: Get the order details and its status from the UID (GET /orders/{UID}, see the ",(0,i.jsx)(o.a,{href:"https://api.cow.fi/docs/#/default/get_api_v1_orders__UID_",children:"Swagger docs"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:["Smart Contract: You can watch the ",(0,i.jsx)(o.a,{href:"https://github.com/cowprotocol/contracts/blob/main/src/contracts/GPv2Settlement.sol#L50",children:"Trade"})," event."]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"It\u2019s worth mentioning that, if you build a tool or UI that creates trades, it\u2019s very convenient to provide the user a way to see the details of the trade that was just created. One simple way to do this, is by creating a link to the explorer:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.a,{href:"https://explorer.cow.fi/orders/%5C%7BUID%5C%7D",children:"https://explorer.cow.fi/orders/\\{UID\\}"})}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"cow-explorer",children:"CoW Explorer"}),"\n",(0,i.jsx)(o.p,{children:"The explorer is a website that allows you to explore the protocol data."}),"\n",(0,i.jsx)(o.p,{children:"It\u2019s the \u201cEtherscan\u201d for CoW protocol, so you will be able to find, among other things:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Order details, with trading status: You can get detailed information about executed, expired, or pending orders. This page is very convenient for directing users once they post an order (",(0,i.jsx)(o.a,{href:"https://explorer.cow.fi/orders/0xa64f3559e33edebd2a1701050db6dff8089c7c42c4d2d842669466c4693d698100000000005ef87f8ca7014309ece7260bbcdaeb61f0377d",children:"example order"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:["Order for a given account: You can get detailed information about executed, expired, or pending orders for a given trader (",(0,i.jsx)(o.a,{href:"https://explorer.cow.fi/address/0x00000000005ef87f8ca7014309ece7260bbcdaeb",children:"example orders for trader"}),")"]}),"\n",(0,i.jsxs)(o.li,{children:["Orders for a batch: Given the transaction hash of a settlement, you can see all the trades in it (",(0,i.jsx)(o.a,{href:"https://explorer.cow.fi/tx/0xd25f7457f4a2ce993a3314858f50f0144606e0c3afe7b3da6416814598afb87b",children:"example orders in batch"}),")"]}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"signing-orders",children:"Signing orders"}),"\n",(0,i.jsx)(o.p,{children:"The protocol requires valid signed orders. There\u2019s different ways in which someone could sign an order:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Off-chain signing (EIP-712): Allow gass-less trading for EOA like Metamask. Learn ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-submit-orders-via-the-api/4.-signing-the-order",children:"how to sign orders"})]}),"\n",(0,i.jsxs)(o.li,{children:["Presign: Sign an order using an ethereum transaction. Convenient for Smart Contract integrations. See the ",(0,i.jsx)(o.a,{href:"https://github.com/cowprotocol/contracts/blob/7842d494c63224387e7e67f75bcd31775543098c/src/contracts/mixins/GPv2Signing.sol#L86",children:"setPresign"})," solidity function for more details"]}),"\n",(0,i.jsxs)(o.li,{children:["Smart Contract Signing (EIP-1271): Gass-less signing for smart contracts. ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-place-erc-1271-smart-contract-orders",children:"Here"})," is a tutorial on how to use this type of signatures."]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["For more information on Signed orders, read ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/overview/signed-orders",children:"here"}),"."]}),"\n",(0,i.jsx)(o.h2,{id:"resources",children:"\ud83d\udca1Resources"}),"\n",(0,i.jsx)(o.h3,{id:"dev-documentation",children:"Dev Documentation"}),"\n",(0,i.jsx)(o.p,{children:"Start here your journey to learn about CoW Protocol"}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.a,{href:"https://docs.cow.fi/",children:"https://docs.cow.fi/"})}),"\n",(0,i.jsx)(o.h3,{id:"api",children:"API"}),"\n",(0,i.jsx)(o.p,{children:"The API allows you to get direct access to the CoW protocol."}),"\n",(0,i.jsx)(o.p,{children:"The documentation is exposed using Swagger docs:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.a,{href:"https://api.cow.fi/docs",children:"https://api.cow.fi/docs"})}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"The API is available in 3 different Networks: Mainnet, Gnosis Chain and G\xf6rli testnet."}),"\n",(0,i.jsxs)(o.p,{children:["For more information about the API, learn more ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/tutorials/how-to-submit-orders-via-the-api/5.-placing-the-order",children:"here"})]}),"\n",(0,i.jsx)(o.h3,{id:"sdk",children:"SDK"}),"\n",(0,i.jsx)(o.p,{children:"The software development kit (SDK) is a Javascript library that provides tooling for accessing the API as well as some utilities like functions for order signing."}),"\n",(0,i.jsx)(o.p,{children:"It is written in Typescript, making it simpler to use in both a Typescript or a plain Javascript project."}),"\n",(0,i.jsxs)(o.p,{children:["More info in ",(0,i.jsx)(o.a,{href:"https://docs.cow.fi/cow-sdk",children:"SDK documents"})," or see an example on how to use it ",(0,i.jsx)(o.a,{href:"https://github.com/anxolin/cow-examples/blob/main/src/pages/api/Orders.js#L6",children:"here"})]}),"\n",(0,i.jsx)(o.h3,{id:"the-graph",children:"The graph"}),"\n",(0,i.jsx)(o.p,{children:"CoW Protocol graph provides an alternative way to consume protocol information."}),"\n",(0,i.jsxs)(o.p,{children:["More info in ",(0,i.jsx)(o.a,{href:"https://github.com/cowprotocol/subgraph",children:"https://github.com/cowprotocol/subgraph"})]}),"\n",(0,i.jsx)(o.h2,{id:"examples-of-simple-integrations",children:"Examples of simple integrations"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["CoW Protocol integration examples: Web app that shows how to integrate with CoW Protocol using the SDK ",(0,i.jsx)(o.a,{href:"https://github.com/anxolin/cow-examples",children:"https://github.com/anxolin/cow-examples"})]}),"\n",(0,i.jsxs)(o.li,{children:["NodeJS Trading Bot: Basic bot that creates a random trade: ",(0,i.jsx)(o.a,{href:"https://github.com/cowprotocol/trading-bot",children:"https://github.com/cowprotocol/trading-bot"})]}),"\n",(0,i.jsxs)(o.li,{children:["Python Trading script: ",(0,i.jsx)(o.a,{href:"https://pastebin.com/cKXUz0SW",children:"https://pastebin.com/cKXUz0SW"})]}),"\n",(0,i.jsxs)(o.li,{children:["Go Trading script: ",(0,i.jsx)(o.a,{href:"https://pastebin.com/r787C2wT",children:"https://pastebin.com/r787C2wT"})]}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"-bonus-join-the-team",children:"\ud83d\udc69\u200d\ud83c\udf3e Bonus: Join the team!"}),"\n",(0,i.jsx)(o.p,{children:"There\u2019s currently open positions for CoW Protocol."}),"\n",(0,i.jsxs)(o.p,{children:["If you are looking for new challenges and opportunities, consider our ",(0,i.jsx)(o.a,{href:"https://cow.fi/jobs?utm_source=docs.cow.fi&utm_medium=web&utm_content=build-on-top-cow-join-link",children:"Open Positions"}),"."]}),"\n",(0,i.jsx)(o.p,{children:"\\"})]})}const h=function(e={}){const{wrapper:o}=Object.assign({},(0,n.ah)(),e.components);return o?(0,i.jsx)(o,Object.assign({},e,{children:(0,i.jsx)(d,e)})):d(e)}},11151:(e,o,t)=>{t.d(o,{Zo:()=>a,ah:()=>r});var i=t(67294);const n=i.createContext({});function r(e){const o=i.useContext(n);return i.useMemo((()=>"function"==typeof e?e(o):{...o,...e}),[o,e])}const s={};function a({components:e,children:o,disableParentContext:t}){let a;return a=t?"function"==typeof e?e({}):e||s:r(e),i.createElement(n.Provider,{value:a},o)}}}]);