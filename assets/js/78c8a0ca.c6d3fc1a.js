"use strict";(self.webpackChunkcow_docs=self.webpackChunkcow_docs||[]).push([[8915],{7134:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var n=r(85893),o=r(11151);const s={},i="STEP 1: Get Market Price",c={id:"cow-sdk/sign-and-post-orders/step-1-get-market-price",title:"STEP 1: Get Market Price",description:"STEP 1: Get Market Price",source:"@site/docs/cow-sdk/sign-and-post-orders/step-1-get-market-price.md",sourceDirName:"cow-sdk/sign-and-post-orders",slug:"/cow-sdk/sign-and-post-orders/step-1-get-market-price",permalink:"/docs-v2/docs/cow-sdk/sign-and-post-orders/step-1-get-market-price",draft:!1,unlisted:!1,editUrl:"https://github.com/cowprotocol/docs/tree/main/docs/cow-sdk/sign-and-post-orders/step-1-get-market-price.md",tags:[],version:"current",frontMatter:{}},d={},a=[{value:"STEP 1: Get Market Price",id:"step-1-get-market-price-1",level:4}];function l(e){const t=Object.assign({h1:"h1",h4:"h4",p:"p",ul:"ul",li:"li",code:"code",strong:"strong",pre:"pre"},(0,o.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"step-1-get-market-price",children:"STEP 1: Get Market Price"}),"\n",(0,n.jsx)(t.h4,{id:"step-1-get-market-price-1",children:"STEP 1: Get Market Price"}),"\n",(0,n.jsx)(t.p,{children:"To create an order, you need to get a price/fee quote first:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The SDK will give you easy access to the API, which returns the ",(0,n.jsx)(t.code,{children:"Market Price"})," and the ",(0,n.jsx)(t.code,{children:"Fee"})," for any given trade you intent to do."]}),"\n",(0,n.jsxs)(t.li,{children:["The returned ",(0,n.jsx)(t.code,{children:"Market Price"})," is not strictly needed, you can use your own pricing logic.","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["You can choose a price that is below this Market price (",(0,n.jsx)(t.strong,{children:"Market Order"}),"), or above Market Price (",(0,n.jsx)(t.strong,{children:"Limit Order"}),")."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["The ",(0,n.jsx)(t.code,{children:"Fee"})," however is very important.","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"It is the required amount in sell token the trader agrees on paying for executing the order onchain."}),"\n",(0,n.jsx)(t.li,{children:"Normally, its value is proportional to the current Gas Price of the network."}),"\n",(0,n.jsx)(t.li,{children:"This fee is never charged if you don't trade."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"To get the quote, you simply specify the trade you intent to do:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",children:"import { OrderBookApi, SupportedChainId } from '@cowprotocol/cow-sdk'\n\nconst orderBookApi = new OrderBookApi({ chainId: SupportedChainId.MAINNET })\n\nconst quoteResponse = await orderBookApi.getQuote({\n  kind: OrderKind.SELL, // Sell order (could also be BUY)\n  sellToken: '0xc778417e063141139fce010982780140aa0cd5ab', // WETH\n  buyToken: '0x4dbcdf9b62e891a7cec5a2568c3f4faf9e8abe2b', // USDC\n  amount: '1000000000000000000', // 1 WETH\n  userAddress: '0x1811be0994930fe9480eaede25165608b093ad7a', // Trader\n  validTo: 2524608000,\n})\n\nconst { sellToken, buyToken, validTo, buyAmount, sellAmount, receiver, feeAmount } = quoteResponse.quote\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Now that we know the ",(0,n.jsx)(t.code,{children:"Market Price"})," and a ",(0,n.jsx)(t.code,{children:"Fee"}),", let's review in next section how to define and sign the new order."]})]})}const h=function(e={}){const{wrapper:t}=Object.assign({},(0,o.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(l,e)})):l(e)}},11151:(e,t,r)=>{r.d(t,{Zo:()=>c,ah:()=>s});var n=r(67294);const o=n.createContext({});function s(e){const t=n.useContext(o);return n.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const i={};function c({components:e,children:t,disableParentContext:r}){let c;return c=r?"function"==typeof e?e({}):e||i:s(e),n.createElement(o.Provider,{value:c},t)}}}]);